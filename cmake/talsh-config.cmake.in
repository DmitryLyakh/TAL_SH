
@PACKAGE_INIT@

set(TALSH_GPU @TALSH_GPU@)
set(WITH_CUTENSOR @WITH_CUTENSOR@)
set(TALSH_FINE_TIMING @TALSH_FINE_TIMING@)

# include( CMakeFindDependencyMacro )
find_package(OpenMP REQUIRED)

if(TALSH_GPU)
    find_package(CUDAToolkit REQUIRED COMPONENTS cublas)
endif() 

if(NOT TARGET talsh::talsh)
    include("${CMAKE_CURRENT_LIST_DIR}/talsh-targets.cmake")
endif()

set(TALSH_FOUND TRUE)
set(TALSH_LIBRARIES talsh::talsh)
set(TALSH_INCLUDE_DIRS "@PACKAGE_CMAKE_INSTALL_INCLUDEDIR@")

if(TALSH_GPU)
    set(TALSH_COMPILE_DEFINITIONS USE_TALSH)
    list(APPEND TALSH_INCLUDE_DIRS ${CUDAToolkit_INCLUDE_DIRS})
    if(TALSH_FINE_TIMING)
        list(APPEND TALSH_COMPILE_DEFINITIONS GPU_FINE_TIMING)
    endif()
endif()

if(TALSH_GPU AND WITH_CUTENSOR)
    set(CUTENSOR_ROOT_DIR @CUTENSOR_INSTALL_PATH@)
    list(APPEND TALSH_COMPILE_DEFINITIONS USE_CUTENSOR)
    list(APPEND TALSH_INCLUDE_DIRS ${CUTENSOR_ROOT}/include)
endif()
